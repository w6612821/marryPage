import{r as e,o as a,R as t,M as s,C as o,b as l,w as n,y as i,e as r,f as u,g as d,l as c,S as p,x as m,j as v,F as g,k as y,U as f}from"./es.pnpm.25f59958.js";/* empty css                                                                 */import{_}from"../js/index.340392ac.js";const I={class:"article-main"},h={class:"demo-image__preview"};var w=_({components:{videoPlay:s},setup(s){let r=o([]);const u=l(),d=e(0),c=o({width:"100%",height:"auto",color:"#409eff",muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!1,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:!0,title:""}),p=o([]),m=e("true");t((()=>{}));const v=e(1),{isReachBottom:g}=function(){const s=e(!1),o=e(0),l=e(0),n=()=>{const e=document.documentElement.clientHeight;o.value=document.documentElement.scrollTop,l.value=document.documentElement.scrollHeight,l.value<=o.value+e+1&&(s.value=!0)};return a((()=>{window.addEventListener("scroll",n)})),t((()=>{window.removeEventListener("scroll",n)})),{isReachBottom:s,scrollTop:o,scrollHeight:l}}();return n(g,(e=>{if(e){if(v.value++,u.state.pageId>3){if(null==m.value)return;i.get("/api/user/ossList",{params:{album:4==u.state.pageId?2:5==u.state.pageId?1:3,marker:"true"==m.value?null:m.value}}).then((e=>{m.value=e.data.marker,e.data.newArr.map((e=>{r.push(e),p.push(e.url)}))}))}g.value=!1}})),{ossList:r,options:c,onCanplay:e=>{},onTimeupdate:e=>{},onPause:e=>{},onPlay:e=>{},previewList:p,initialIndex:d,setInitialIndex:e=>{d.value=e}}}},[["render",function(e,a,t,s,o,l){const n=r("videoPlay"),i=f.ElImage;return u(),d("main",I,[0==e.$store.state.pageId||1==e.$store.state.pageId||2==e.$store.state.pageId||3==e.$store.state.pageId?(u(),c(n,p({key:0},{...s.options,src:e.$store.state.videoUrl},{onPlay:s.onPlay,onPause:s.onPause,onTimeupdate:s.onTimeupdate,onCanplay:s.onCanplay}),null,16,["onPlay","onPause","onTimeupdate","onCanplay"])):m("",!0),v("div",h,[(u(!0),d(g,null,y(s.ossList,((e,a)=>(u(),c(i,{onClick:e=>s.setInitialIndex(a),key:e._id,src:e.url,"zoom-rate":1.2,"preview-src-list":s.previewList,"initial-index":s.initialIndex,fit:"cover",lazy:""},null,8,["onClick","src","zoom-rate","preview-src-list","initial-index"])))),128))])])}],["__scopeId","data-v-bf4d85fc"],["__file","D:/myProject/myBlog/src/pages/Article.vue"]]);export{w as default};
